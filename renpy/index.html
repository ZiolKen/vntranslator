<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>Ren'Py RPY Translator</title>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <link rel="stylesheet" href="renpy.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <meta name="theme-color" content="#000000">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Turret+Road:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BXTNE3VPWH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-BXTNE3VPWH');
    </script>
</head>
 
<body>
  <div id="particles-js"></div>
  <div class="grid-bg"></div>
  <!-- Modal for Lingva Warning -->
  <div id="libreWarningModal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h3>Important Notice About Lingva Translate</h3>
      <div class="notice-content">
        <ul class="notice-list">
          <li>Lingva is a free service that may not perfectly preserve Ren'Py code structure.</li>
          <li>We recommend using it only for testing purposes or when you're willing to manually review the results.</li>
          <li>For production use or accurate translations that maintain all Ren'Py formatting, please use DeepSeek.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <button id="confirmLibre" style="border-color: var(--neon-yellow); color: var(--neon-yellow);">
          I Understand
        </button>
      </div>
    </div>
  </div>
  
  <div class="main-title">
    <h1 id="main-title" class="floating" style="font-size: 3rem; font-weight: 900; margin-bottom: 1rem; animation: floating 3s ease-in-out infinite; color: #fff; text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff;">Ren'Py RPY <span style="background: linear-gradient(to right, #c084fc, #f472b6, #c084fc); -webkit-background-clip: text; color: transparent; background-clip: text;">Translator</span>
    </h1>
    <div class="card cyber-grid">
      <h4>Translation Settings</h4>

      <div class="form-group">
        <label>Translation Model</label>
        <select id="modelSelect">
          <option value="deepseek">üî• DeepSeek API ‚Äî High Quality (Paid)</option>
          <option value="libre">üåê Lingva ‚Äî Free (Lower Quality)</option>
        </select>
      </div>
      <div class="form-group" id="apiKeyContainer">
        <label>DeepSeek API Key</label>
        <input id="apiKey" type="password" placeholder="Enter your API Key">
      </div>
      <div class="form-group">
        <label>Target Language</label>
        <select id="langTarget">
          <option value="Bahasa Indonesia">Indonesian</option>
          <option value="English">English</option>
          <option value="Malay">Malay</option>
          <option value="Vietnamese">Vietnamese</option>
          <option value="Filipino">Filipino</option>
        </select>
      </div>
      <div class="form-group">
        <label>Upload .rpy File</label>
        <input id="fileInput" type="file" accept=".rpy">
      </div>
      <div class="progress-container">
        <label>Progress</label>
        <progress id="progressBar" value="0" max="1000"></progress>
        <div id="progressText">0/0</div>
      </div>
    </div>
      <div class="card cyber-grid">
        <h5>Translation Control</h5>
        <div class="button-group">
        <button id="translateBtn">
          <span id="translateLabel"><span>‚ñ∂Ô∏è</span> Start Translating</span>
          <span id="spinner" class="hidden"></span>
        </button>
        <button id="downloadFinal"><span>‚¨áÔ∏è</span> Download Result</button>
        <button id="downloadProgress"><span>‚¨áÔ∏è</span> Download Log</button>
        <button id="previewBtn" disabled><span>‚ÑπÔ∏è</span> Preview/Edit Manual</button>
        </div>
      </div>
    <div class="card cyber-grid" style="margin-bottom: 25px;">
      <h2>Translation Log</h2>
      <div id="logBox" class="log-container">[SYSTEM_BOOT] :: Awaiting input...</div>
    <div>
      <div id="controlBtns" style="display:none; margin-top: 10px;">
        <button id="stopBtn"><span>‚è∏</span> Stop Translation</button>
        <button id="resumeBtn" disabled><span>üîÑ</span> Resume Translation</button>
      </div>
    </div>
    </div>
  <div class="card cyber-grid" style="margin-bottom: 25px;">
    <h6>Support & Resources</h6>
      <div class="support-grid" style="display: grid; grid-template-columns: 1fr; gap: 15px; @media (min-width: 768px) { grid-template-columns: 1fr 1fr; }">
        <div style="grid-column: 1 / -1;">
            <p class="support-label" style="font-weight: bold; color: var(--neon-yellow); margin-bottom: 10px; margin-top: 15px;">SUPPORT THIS PROJECT!</p>
            <a href="https://www.buymeacoffee.com/_zkn"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee!&emoji=‚òï&slug=_zkn&button_colour=ff00ff&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=FFDD00" /></a>
            <p class="support-label" style="font-weight: bold; color: var(--neon-yellow); margin-bottom: 10px; margin-top: 15px;">GET HELP:</p>
            <a href="rpy-dialog-extractor.html" target="_blank" rel="noopener noreferrer" class="help-btn"><span class="help-icon">üîÑ</span>Extract RPY dialogs & Merge</a>
            <a href="https://grviewer.com/" target="_blank" rel="noopener noreferrer" class="help-btn"><span class="help-icon">üîÅ</span>Extract RPA & Decompile RPYC</a>
            <a href="how-to-get-deepseek-api-key.html" target="_blank" rel="noopener noreferrer" class="help-btn"><span class="help-icon">‚ùì</span>How to get a DeepSeek API Key?</a>
            <a href="how-to-get-renpy-rpy.html" target="_blank" rel="noopener noreferrer" class="help-btn"><span class="help-icon">üìÇ</span>How to get RPY file from game?</a>
        </div>
  </div>
</div>
  <div class="card usage-tips">
    <h6>Notice</h6>
    <div class="notice-content">
      <p><strong>Suggest:</strong></p>
      <ul class="notice-list">
        <li>It is recommended to use the RPY Dialog Extraction & Merge Tool to extract the dialog and translate, then merge the translated RPY with the original RPY.</li>
      </ul>
      <p><strong>Important:</strong></p>
      <ul class="notice-list">
        <li>DeepSeek requires an API key but provides higher quality translations that preserve Ren'Py formatting.</li>
        <li>Lingva is free but may require manual adjustments.</li>
      </ul>
    </div>
  </div>

  <div class="footer-note">
    ‚ö†Ô∏è By using this tool, you agree to accept all kinds of risks.
  </div>

  <div style="text-align: center; margin: 40px 0 20px;">
  <a href="../" class="back-btn">‚¨ÖÔ∏è Back to Main Menu</a>
  </div>
  </div>

<style>
  #particles-js,
  .grid-bg {
    z-index: -1;
  }

  .card,
  button,
  select,
  input,
  textarea,
  h1, h2, h3, h4, h5, h6 {
    position: relative;
    z-index: 1;
  }

  .close-modal {
      color: var(--text-secondary);
      float: right;
      font-size: 30px;
      font-weight: bold;
      cursor: pointer;
  }
  
  .close-modal:hover {
      color: var(--text-secondary);
  }
    
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>

<script>
        const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const particleCount = isMobile ? 55 : 111;
        particlesJS("particles-js", {
            "particles": {
                "number": {
                    "value": particleCount,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": { "value": "#a855f7" },
                "shape": {
                    "type": "circle",
                    "stroke": { "width": 0, "color": "#000" }
                },
                "opacity": {
                    "value": 0.7,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 0.5,
                        "opacity_min": 0.3,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 2,
                        "size_min": 0.3,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#a855f7",
                    "opacity": 0.3,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 1.5,
                    "direction": "none",
                    "random": false,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": { "enable": true, "mode": "repulse" },
                    "onclick": { "enable": false },
                    "resize": true
                },
                "modes": {
                    "repulse": { "distance": 100, "duration": 0.4 }
                }
            },
            "retina_detect": true
        });
</script>
 
<script
    src="./renpy.js">
</script>

</body>

</html>
