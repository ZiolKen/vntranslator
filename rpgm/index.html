<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>RPG Maker JSON Translator</title>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <link rel="stylesheet" href="rpgm.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <meta name="theme-color" content="#000000">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Turret+Road:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BXTNE3VPWH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-BXTNE3VPWH');
    </script>
    
</head>

<body>
    <div id="particles-js"></div>
    <div class="grid-bg"></div>
    <div class="container">
        <!-- The HTML structure is identical to the original file to maintain JS functionality -->
        <h1 id="main-title" class="floating" style="font-size: 3rem; font-weight: 900; margin-bottom: 1rem; animation: floating 3s ease-in-out infinite; color: #fff; text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff;">RPG Maker JSON <span style="background: linear-gradient(to right, #c084fc, #f472b6, #c084fc); -webkit-background-clip: text; color: transparent; background-clip: text;">Translator</span></h1>
        
        <div class="card cyber-grid">
            <h2>Translation Settings</h2>
            
            <div class="form-group">
                <label for="translationModel">Translation Model</label>
                <select id="translationModel">
                    <option value="deepseek">üî• DeepSeek API ‚Äî High Quality (Paid)</option>
                    <option value="gpt-4o">üíé ChatGPT 4o ‚Äî Highest Quality (Paid)</option>
                    <option value="gpt-4o-mini">‚ö° ChatGPT 4o mini ‚Äî Cheaper (Paid)</option>
                    <option value="gpt-5">üöÄ ChatGPT 5 ‚Äî New (Paid)</option>
                    <option value="gpt-5-mini">üí° ChatGPT 5 mini ‚Äî Cheap (Paid)</option>
                    <option value="gpt-5-nano">üì¶ ChatGPT 5 nano ‚Äî Ultra Cheap (Paid)</option>
                    <option value="lingva">üåê Lingva ‚Äî Free (Lower Quality)</option>
                </select>
            </div>
            
            <div class="form-group" id="apiKeyGroup">
                <label for="apiKey">DeepSeek API Key</label>
                <input type="password" id="apiKey" placeholder="Enter your DeepSeek API key">
            </div>
            
            <div class="form-group" id="chatgptApiKeyGroup" style="display: none;">
                <label for="chatgptApiKey">OpenAI API Key</label>
                <input type="password" id="chatgptApiKey" placeholder="Enter your OpenAI API key">
            </div>
            
            <div class="form-group">
                <label for="targetLanguage">Target Language</label>
                <select id="targetLanguage">
                    <option value="id">Indonesian</option>
                    <option value="vi">Vietnamese</option>
                    <option value="en">English</option>
                    <option value="ms">Malay</option>
                    <option value="tl">Filipino</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="batchSize">Batch Size (DeepSeek/ChatGPT only)</label>
                <input type="number" id="batchSize" min="1" max="50" value="20">
                <small style="color: var(--text-secondary); opacity: 0.8;">Number of texts to translate in one request.</small>
            </div>
            
            <div class="form-group">
                <label for="jsonFile">Upload JSON File</label>
                <input type="file" id="jsonFile" accept=".json">
            </div>

            <div id="jsonInfoGroup" style="display: none;">
                <label>File Information</label>
                <div id="jsonInfo" class="json-info" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 12px;">
                    <p>JSON file has been loaded. <span id="fileStats">0 text found</span></p>
                    <button id="viewRawBtn" class="btn-secondary" style="padding: 8px 12px; font-size: 0.85rem; width: auto; display: inline-block; margin-top: 8px; margin-bottom: 5px; border-color: var(--text-secondary); color: var(--text-secondary);">Show Raw JSON</button>
                </div>
                <textarea id="jsonContent" class="hidden" style="margin-bottom: 15px;" rows="6" placeholder="Paste your JSON content here"></textarea>
            </div>
        </div>
        
        <div class="card cyber-grid">
            <h2>Translation Control</h2>
            
            <div class="button-group">
                <button id="startBtn">
                    <span>‚ñ∂Ô∏è</span> Start
                </button>
                <button id="stopBtn" disabled>
                    <span>‚è∏Ô∏è</span> Pause
                </button>
                <button id="resumeBtn" disabled>
                    <span>üîÑ</span> Resume
                </button>
            </div>
            
            <div class="progress-container">
                <label>Progress</label>
                <progress id="progressBar" value="0" max="100"></progress>
                <div id="progressText">0% (0/0)</div>
            </div>
        </div>
        
        <div class="card cyber-grid">
            <h2>Translation Log</h2>
            <div id="logContainer" class="log-container">[SYSTEM_BOOT] :: Awaiting input...</div>
        </div>
        
        <div class="card cyber-grid">
            <h2>Download Results</h2>
            <button id="downloadResultBtn" disabled>
                <span>‚¨áÔ∏è</span> Download Translated JSON
            </button>
            <button id="previewResultBtn" disabled>
                <span>‚ÑπÔ∏è</span> Preview/Edit Translation
            </button>
        </div>
        
        <div class="card cyber-grid help-container">
            <h2>Support & Resources</h2>
            <div class="support-grid" style="display: grid; grid-template-columns: 1fr; gap: 15px; @media (min-width: 768px) { grid-template-columns: 1fr 1fr; }">
                <div style="grid-column: 1 / -1;">
                     <p class="support-label" style="font-weight: bold; color: var(--neon-yellow); margin-bottom: 10px; margin-top: 15px;">GET HELP:</p>
                    <a href="json-ks-convert.html" class="help-btn" target="_blank"><span class="help-icon">üîÅ</span> KS Extractor For Tyranobuild & Kirikiri Engine</a>
                    <a href="how-to-get-chatgpt-api-key.html" class="help-btn" target="_blank"><span class="help-icon">üîë</span> Get ChatGPT API Key</a>
                    <a href="how-to-get-deepseek-api-key.html" class="help-btn" target="_blank"><span class="help-icon">üîë</span> Get DeepSeek API Key</a>
                    <a href="how-to-get-rpgm-json.html" class="help-btn" target="_blank"><span class="help-icon">üìÇ</span> RPGM JSON Files</a>
                </div>
            </div>
        </div>

        <div class="card usage-tips">
            <h2>Usage Tips</h2>
            <div class="notice-content">
                <p><strong>For best results:</strong></p>
                <ul class="notice-list">
                    <li>Prioritize games with only one language, as the tool cannot manually select the source language and uses auto-detection</li>
                    <li>All detected dialog will be translated, making the process much slower for multi-language games</li>
                    <li>If the game uses separate files for each language, the process will be more efficient</li>
                    <li>For professional translations, always use high-quality English source text</li>
                </ul>
                <p><strong>Note:</strong> The translation quality depends on the source text quality and the selected translation model.</p>
            </div>
        </div>
        
        <div class="footer-note">
            ‚ö†Ô∏è By using this tool, you agree to accept all kinds of risks.
        </div>
      <div style="text-align: center; margin: 30px 0 20px;">
  <a href="../" class="btn back-btn">‚¨ÖÔ∏è Back to Main Menu</a>
      </div>
    </div>
    
    <div id="lingvaWarningModal" class="modal hidden">
        <div class="modal-content">
            <h3>Important Notice About Lingva Translation</h3>
            <p>You have selected Lingva for translation. Please be aware that:</p>
            <div class="notice-content">
                <ul class="notice-list">
                    <li>Lingva is a free service with limited quality control</li>
                    <li>Translation quality may be inconsistent or inaccurate</li>
                    <li>There is a risk of damaging RPG Maker game structure</li>
                </ul>
            </div>
            <p>For professional results, we recommend using the DeepSeek API.</p>
            <div class="modal-footer">
                <button id="confirmLingvaBtn" style="border-color: var(--neon-yellow); color: var(--neon-yellow);">OK</button>
                <button id="cancelLingvaBtn" style="border-color: var(--text-secondary); color: var(--text-secondary);">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const particleCount = isMobile ? 55 : 111;
        particlesJS("particles-js", {
            "particles": {
                "number": {
                    "value": particleCount,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": { "value": "#a855f7" },
                "shape": {
                    "type": "circle",
                    "stroke": { "width": 0, "color": "#000" }
                },
                "opacity": {
                    "value": 0.7,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 0.5,
                        "opacity_min": 0.3,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 2,
                        "size_min": 0.3,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#a855f7",
                    "opacity": 0.3,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 1.5,
                    "direction": "none",
                    "random": false,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": { "enable": true, "mode": "repulse" },
                    "onclick": { "enable": false },
                    "resize": true
                },
                "modes": {
                    "repulse": { "distance": 100, "duration": 0.4 }
                }
            },
            "retina_detect": true
        });
    </script>
    
    <script
        src="./rpgm.js">
    </script>

</body>

</html>