<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <meta name="theme-color" content="#000000">
    <title>Translation Preview & Editor</title>
    <link rel="stylesheet" href="preview.css">
    <link rel="stylesheet" href="btailwind.css">
</head>

<body>
    <div class="zcontainer">
        <h1>Translation Preview & Editor</h1>
 
        <div class="warning-panel hidden" id="globalWarning">
            <span>⚠️</span>
            <div>
                <strong>Warning:</strong> Some translations contain potential issues. 
                <span id="warningCount">0 items</span> need manual review.
                <button id="showWarningsBtn" class="btn-warning" style="margin-left: 10px;">Show All</button>
            </div>
        </div>
 
        <div class="zcard">
            <div class="controls">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search translations...">
                </div>
                <div class="filter-group">
                    <select id="filterModified">
                        <option value="all">All Items</option>
                        <option value="modified">Modified Only</option>
                        <option value="unmodified">Unmodified Only</option>
                        <option value="warnings">With Warnings</option>
                    </select>
                    <select id="filterLength">
                        <option value="any">Any length</option>
                        <option value="short">Short (1-10 chars)</option>
                        <option value="medium">Medium (11-30 chars)</option>
                        <option value="long">Long (31+ chars)</option>
                    </select>
                    <input type="text" id="filterPath" placeholder="Filter path..." style="width: 150px;">
                    <select id="itemsPerPage">
                        <option value="10">10 per page</option>
                        <option value="25" selected>25 per page</option>
                        <option value="50">50 per page</option>
                        <option value="100">100 per page</option>
                    </select>
                </div>
                <button id="downloadBtn" class="btn-success">Download Edited JSON</button>
            </div>
 
            <div id="textList"></div>
 
            <div class="pagination" id="pagination"></div>
 
            <div class="status-bar">
                <div id="statusText">Loading translations...</div>
                <div id="itemCount">0 items (0 modified, 0 warnings)</div>
            </div>
        </div>
    </div>
 
    <div class="code-alert">
    <div class="code-alert-header">
        <svg class="code-alert-icon" viewBox="0 0 24 24">
            <path fill="#E2B341" d="M11 3h2v14h-2zm0 4h2v2h-2z"/>
            <circle cx="12" cy="19" r="2" fill="#E2B341"/>
        </svg>
        <h3 class="code-alert-title">Code Integrity Guidelines</h3>
    </div>
    <div class="code-alert-content">
        <p class="code-alert-subtitle">To maintain game stability, strictly observe these rules when editing:</p>
 
        <div class="code-alert-grid">
            <div class="code-alert-rule">
                <div class="rule-icon">✓</div>
                <div>
                    <strong>Preserve Original Codes</strong>
                    <p>Maintain exact formatting of all control codes (e.g., <code>\v[1]</code>, <code>\c[12]</code>)</p>
                </div>
            </div>
 
            <div class="code-alert-rule">
                <div class="rule-icon">✗</div>
                <div>
                    <strong>No Unauthorized Changes</strong>
                    <p>Never add/remove brackets, backslashes or special characters</p>
                </div>
            </div>
 
            <div class="code-alert-rule">
    <div class="rule-icon">⚠</div>
    <div>
        <strong>Warning System Limitations</strong>
        <p>The warning system may produce false positives. For example, modifying text after control codes like <code>\n<\N[1]>wait</code> (changing "wait" to other text) may trigger warnings unnecessarily. Always ensure control codes (<code>\n<\N[1]></code> etc.) remain unchanged, but note that some RPG Maker logic (like "if" statements) may appear as regular text - exercise caution when editing these segments.</p>
        <p><strong>Important:</strong> The warning system should not be solely relied upon. If you're confident the translation is correct despite warnings (especially for text portions after preserved codes), you may proceed. However, always verify that all control codes remain intact.</p>
    </div>
</div>
        </div>
 
        <div class="code-alert-footer">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="#E2B341" stroke-width="2"/>
            </svg>
            <span>Violations may cause game runtime errors</span>
        </div>
    </div>
</div>
<div class="ztext-center zmt-8 zmb-2">
    <a href="./" class="zinline-block zbg-blue-600 ztext-white zpx-5 zpy-2 zrounded-full zshadow zhover:bg-blue-700 ztransition">⬅️ Back to Translator</a>
</div>

<script src="./preview.js" defer></script>
    
</body>

</html>
